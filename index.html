<h3>ファイターズ背番号早見アプリ</h3>
<p>背番号<input id="uniform-number" name="uniform-number" />番</p>
<button id="submit">検索</button>
<p id="result"></p>
<script>
  const input = document.getElementById('uniform-number');
  const button = document.getElementById('submit');
  const result = document.getElementById('result');

  button.addEventListener('click', search);

  async function search() {
    const value = input.value;
    const res = await fetch('http://localhost:8888/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ value }),
    });
    const resText = await res.text();
    const text = document.createTextNode(`背番号 ${value} ${resText}`);
    const p = document.createElement('p');
    p.appendChild(text);
    result.appendChild(p);
    input.value = '';
  }
</script>
